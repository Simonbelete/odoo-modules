<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <template id="Compact">
        <t t-call="web.html_container">
            <t t-call="web.internal_layout">
                <style>
                    .table,th,td{
                    border:1px solid DodgerBlue;
                    }
                    th{
                    font-size:15px;
                    }
                    .par{
                    font-size:50px;
                    }
                    .text{
                    font-size:30px;
                    }
                </style>
                <div class="oe_structure"/>
                <div class="container-fluid">
                    <div class="col-lg-12">
                        <table class="table table-striped">
                            <tr>
                                <th colspan="16" class="bg bg-danger text text-center">CURRENT EMPLOYEE LIST</th>
                            </tr>
                            <tr>
                                <th>No.</th>
                                <th>Pension No.</th>
                                <th>Full Name</th>
                                <th>Gender</th>
                                <th>Position</th>
                                <th>Date of Birth</th>
                                <th>Age</th>
                                <th>Hiring Date</th>
                                <th>Salary</th>
                                <th>Scale</th>
                                <th>Allowance</th>
                                <th>Field of Study</th>
                                <th>Education Level</th>
                                <th>Training</th>
                                <th>Total Year of Experience</th>
                                <th>Phone No.</th>
                            </tr>
                            <t t-set="index" t-value="1"/>
                            <t t-foreach="docs" t-as="o">
                                <tr>
                                    <td>
                                        <t t-esc="index"/>
                                    </td>
                                    <td>
                                        <t t-esc="o.pension_number"/>
                                    </td>
                                    <td>
                                        <t t-esc="o.name"/>
                                    </td>
                                    <td>
                                        <t t-esc="o.gender"/>
                                    </td>
                                    <td>
                                        <t t-esc="o.job_id.name"/>
                                    </td>
                                    <td>
                                        <t t-esc="o.birthday1"/>
                                    </td>
                                    <td>
                                        <t t-esc="o.age_com"/>
                                    </td>
                                    <td>
                                        <t t-esc="o.Hiring_day"/>
                                    </td>
                                    <td>
                                        <p t-foreach="o.contract_employee_id"
                                           t-as="rent">
                                            <t t-esc="'{0:,.2f}'.format(rent.wage)"/>
                                        </p>
                                    </td>
                                    <td>
                                        <p t-foreach="o.contract_employee_id"
                                           t-as="rent">
                                            <t t-esc="rent.salary_scale"/>
                                        </p>
                                    </td>
                                    <td>
                                        <p t-foreach="o.contract_employee_id"
                                           t-as="rent">
                                            <t t-esc="'{0:,.2f}'.format(rent.total_allowance)"/>
                                            <br/>
                                        </p>
                                    </td>
                                    <td>
                                        <t t-esc="o.field_of_study"/>
                                    </td>
                                    <td>
                                        <t t-esc="o.education_level"/>
                                    </td>
                                    <td>
                                        <t t-foreach="o.training_name_ids.training_name_inverse_id" t-as="line">
                                            <p t-foreach="o.training_name_ids" t-as="education"
                                               t-if="line == education.training_name_inverse_id">
                                                <ul>
                                                    <li>
                                                        <t t-esc="education.type_of_training"/>
                                                        <br/>
                                                    </li>
                                                </ul>
                                            </p>
                                        </t>
                                    </td>
                                    <td>
                                        <t t-esc="o.total_year_of_ex"/>
                                    </td>
                                    <td>
                                        <t t-esc="o.work_phone"/>
                                    </td>
                                </tr>
                                <t t-set="index" t-value="index+1"/>
                            </t>
                        </table>
                    </div>
                </div>
            </t>
        </t>
    </template>


    <template id="Experience">
        <t t-call="web.html_container">
            <t t-call="web.external_layout">
                <t t-foreach="docs" t-as="o">
                    <h4 style="text-align: center;decoration: underline;">
                        To whom it may concern.
                    </h4>
                    <p>Our staff member w/t
                        <span t-field="o.name"/>
                        has requested us to write her a letter of confirmation concerning her work experience.
                        Pursuant to her request, we hereby certify that
                        <span t-field="o.name"/>
                        is a permanent employee of Adarash Technologies PLC since
                        her date of employment February 24,2020 in the following capacities;
                    </p>
                    <table class="table styled-table" border="1">
                        <tr>

                            <th width="30%">Job Title</th>
                            <th width="30%">Department</th>
                            <th width="20%">From</th>
                            <th width="40%">To</th>
                        </tr>
                        <tr>

                            <td width="30%">
                                <t t-esc="o.job_title"/>
                            </td>
                            <td width="30%">
                                <t t-esc="o.department_id.name"/>
                            </td>
                            <td width="20%">
                                <p t-foreach="o.contract_employee_id"
                                   t-as="rent">
                                    <t t-esc="rent.date_start"/>
                                </p>
                            </td>
                            <td width="20%">
                                <t t-esc="datetime.date.today()"/>
                            </td>
                        </tr>
                    </table>
                    <p>Currently, she is drawing a monthly gross salary of Birr
                        <t t-esc="o.contract_employee_id.wage"/>
                        This certificate is issued upon her request and does not serve as a release.
                    </p>
                    <p align="center">Sincerely yours,
                        <br/>
                        <t t-esc="o.parent_id.name"/>
                        <br/>
                        General Manager
                    </p>

                </t>
            </t>
        </t>
    </template>

    <!--    TOTAL YEARS OF Experience-->

    <template id="Total_Experience">
        <t t-call="web.html_container">
            <t t-call="web.external_layout">
                <t t-foreach="docs" t-as="o">
                    <h4 style="text-align: center;decoration: underline;">
                        To whom it may concern.
                    </h4>
                    <p>Our staff member w/t
                        <span t-field="o.name"/>
                        has requested us to write her a letter of confirmation concerning her work experience.
                        Pursuant to her request, we hereby certify that
                        <span t-field="o.name"/>
                        is a permanent employee of Adarash Technologies PLC since
                        her date of employment February 24,2020 in the following capacities;
                    </p>
                    <t t-foreach="o.resume_line_ids.employee_id" t-as="line">
                        <table class="table styled-table" border="1">
                            <tr>
                                <th>No.</th>
                                <th width="30%">Job Title</th>
                                <th width="30%">Department</th>
                                <th width="20%">From</th>
                                <th width="40%">To</th>
                            </tr>
                            <t t-set="index" t-value="1"/>
                            <t t-foreach="o.resume_line_ids" t-as="expérience"
                               t-if="line == expérience.employee_id">
                                <t t-if="not expérience.name_of_org_id.name and expérience.job_title_in">
                                    <tr>
                                        <td>
                                            <t t-esc="index"/>
                                        </td>
                                        <td width="30%">
                                            <t t-esc="expérience.job_title_in"/>
                                        </td>
                                        <td width="30%">
                                            <t t-esc="expérience.department_in.name"/>
                                        </td>
                                        <td width="20%">
                                            <t t-esc="expérience.from_ex"/>
                                        </td>
                                        <td width="20%">
                                            <t t-esc="expérience.to_ex"/>
                                        </td>
                                    </tr>
                                    <t t-set="index" t-value="index+1"/>
                                </t>
                            </t>
                            <table class="table styled-table" border="1">
                                <tr>

                                    <th width="30%">Job Title</th>
                                    <th width="30%">Department</th>
                                    <th width="20%">From</th>
                                    <th width="40%">To</th>
                                </tr>
                                <tr>

                                    <td width="30%">
                                        <t t-esc="o.job_title"/>
                                    </td>
                                    <td width="30%">
                                        <t t-esc="o.department_id.name"/>
                                    </td>
                                    <td width="20%">
                                        <p t-foreach="o.contract_employee_id"
                                           t-as="rent">
                                            <t t-esc="rent.date_start"/>
                                        </p>
                                    </td>
                                    <td width="20%">
                                        <t t-esc="datetime.date.today()"/>
                                    </td>
                                </tr>
                            </table>
                        </table>
                    </t>
                    <p>Currently, she is drawing a monthly gross salary of Birr
                        <t t-esc="o.contract_employee_id.wage"/>
                        This certificate is issued upon her request and does not serve as a release.
                    </p>
                    <p align="center">Sincerely yours,
                        <br/>
                        <t t-esc="o.parent_id.name"/>
                        <br/>
                        General Manager
                    </p>

                </t>
            </t>
        </t>
    </template>

    <template id="45_days_probation">
        <t t-call="web.html_container">
            <t t-call="web.external_layout">
                <t t-foreach="docs" t-as="o">
                    <p>Dear Ato<span t-field="o.name"/>Following your application for employment and pursuant to the
                        interview,
                        we are glad to inform you that we have accepted you as
                        <t t-esc="o.job_id.name"/>
                        effective
                        <t t-esc="o.contract_employee_id.date_start"/>
                        with gross monthly salary of Birr
                        <t t-esc="'{0:,.2f}'.format(o.contract_employee_id.wage)"/>
                        transportation allowance of birr
                        <t t-esc="'{0:,.2f}'.format(o.contract_employee_id.total_allowance)"/>
                        on 45 days probation.
                        A letter of permanent employment will be issued as soon as your successful completion of the
                        probation period.
                        <p>Welcome and congratulations!
                        </p>
                    </p>
                    <p align="center">Sincerely yours,
                        <br/>
                        <t t-esc="o.parent_id.name"/>
                        <br/>
                        General Manager
                    </p>

                </t>
            </t>
        </t>
    </template>

</odoo>